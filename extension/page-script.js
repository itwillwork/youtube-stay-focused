!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=29)}([function(e,t){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},function(e,t,n){var r=n(10),o="object"==typeof self&&self&&self.Object===Object&&self,i=r||o||Function("return this")();e.exports=i},function(e,t,n){var r=n(1).Symbol;e.exports=r},function(e,t){var n=function(){};n.prototype.trim=function(e){for(;""==e[e.length-1];)e.pop();for(;""==e[0];)e.shift();return e},n.prototype.attach=function(){var e=this;String.prototype.tokenize=function(){return e.tokenize(this)}},n.prototype.tokenize=function(){},e.exports=n},function(e,t,n){(function(e){var r=Object.getOwnPropertyDescriptors||function(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++)n[t[r]]=Object.getOwnPropertyDescriptor(e,t[r]);return n},o=/%[sdj%]/g;t.format=function(e){if(!y(e)){for(var t=[],n=0;n<arguments.length;n++)t.push(c(arguments[n]));return t.join(" ")}n=1;for(var r=arguments,i=r.length,u=String(e).replace(o,(function(e){if("%%"===e)return"%";if(n>=i)return e;switch(e){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(e){return"[Circular]"}default:return e}})),s=r[n];n<i;s=r[++n])m(s)||!w(s)?u+=" "+s:u+=" "+c(s);return u},t.deprecate=function(n,r){if(void 0!==e&&!0===e.noDeprecation)return n;if(void 0===e)return function(){return t.deprecate(n,r).apply(this,arguments)};var o=!1;return function(){if(!o){if(e.throwDeprecation)throw new Error(r);e.traceDeprecation?console.trace(r):console.error(r),o=!0}return n.apply(this,arguments)}};var i,u={};function c(e,n){var r={seen:[],stylize:a};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),h(n)?r.showHidden=n:n&&t._extend(r,n),v(r.showHidden)&&(r.showHidden=!1),v(r.depth)&&(r.depth=2),v(r.colors)&&(r.colors=!1),v(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=s),l(r,e,r.depth)}function s(e,t){var n=c.styles[t];return n?"["+c.colors[n][0]+"m"+e+"["+c.colors[n][1]+"m":e}function a(e,t){return e}function l(e,n,r){if(e.customInspect&&n&&O(n.inspect)&&n.inspect!==t.inspect&&(!n.constructor||n.constructor.prototype!==n)){var o=n.inspect(r,e);return y(o)||(o=l(e,o,r)),o}var i=function(e,t){if(v(t))return e.stylize("undefined","undefined");if(y(t)){var n="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(n,"string")}if(g(t))return e.stylize(""+t,"number");if(h(t))return e.stylize(""+t,"boolean");if(m(t))return e.stylize("null","null")}(e,n);if(i)return i;var u=Object.keys(n),c=function(e){var t={};return e.forEach((function(e,n){t[e]=!0})),t}(u);if(e.showHidden&&(u=Object.getOwnPropertyNames(n)),x(n)&&(u.indexOf("message")>=0||u.indexOf("description")>=0))return f(n);if(0===u.length){if(O(n)){var s=n.name?": "+n.name:"";return e.stylize("[Function"+s+"]","special")}if(b(n))return e.stylize(RegExp.prototype.toString.call(n),"regexp");if(S(n))return e.stylize(Date.prototype.toString.call(n),"date");if(x(n))return f(n)}var a,w="",j=!1,T=["{","}"];(d(n)&&(j=!0,T=["[","]"]),O(n))&&(w=" [Function"+(n.name?": "+n.name:"")+"]");return b(n)&&(w=" "+RegExp.prototype.toString.call(n)),S(n)&&(w=" "+Date.prototype.toUTCString.call(n)),x(n)&&(w=" "+f(n)),0!==u.length||j&&0!=n.length?r<0?b(n)?e.stylize(RegExp.prototype.toString.call(n),"regexp"):e.stylize("[Object]","special"):(e.seen.push(n),a=j?function(e,t,n,r,o){for(var i=[],u=0,c=t.length;u<c;++u)z(t,String(u))?i.push(p(e,t,n,r,String(u),!0)):i.push("");return o.forEach((function(o){o.match(/^\d+$/)||i.push(p(e,t,n,r,o,!0))})),i}(e,n,r,c,u):u.map((function(t){return p(e,n,r,c,t,j)})),e.seen.pop(),function(e,t,n){if(e.reduce((function(e,t){return t.indexOf("\n")>=0&&0,e+t.replace(/\u001b\[\d\d?m/g,"").length+1}),0)>60)return n[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+n[1];return n[0]+t+" "+e.join(", ")+" "+n[1]}(a,w,T)):T[0]+w+T[1]}function f(e){return"["+Error.prototype.toString.call(e)+"]"}function p(e,t,n,r,o,i){var u,c,s;if((s=Object.getOwnPropertyDescriptor(t,o)||{value:t[o]}).get?c=s.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):s.set&&(c=e.stylize("[Setter]","special")),z(r,o)||(u="["+o+"]"),c||(e.seen.indexOf(s.value)<0?(c=m(n)?l(e,s.value,null):l(e,s.value,n-1)).indexOf("\n")>-1&&(c=i?c.split("\n").map((function(e){return"  "+e})).join("\n").substr(2):"\n"+c.split("\n").map((function(e){return"   "+e})).join("\n")):c=e.stylize("[Circular]","special")),v(u)){if(i&&o.match(/^\d+$/))return c;(u=JSON.stringify(""+o)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(u=u.substr(1,u.length-2),u=e.stylize(u,"name")):(u=u.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),u=e.stylize(u,"string"))}return u+": "+c}function d(e){return Array.isArray(e)}function h(e){return"boolean"==typeof e}function m(e){return null===e}function g(e){return"number"==typeof e}function y(e){return"string"==typeof e}function v(e){return void 0===e}function b(e){return w(e)&&"[object RegExp]"===j(e)}function w(e){return"object"==typeof e&&null!==e}function S(e){return w(e)&&"[object Date]"===j(e)}function x(e){return w(e)&&("[object Error]"===j(e)||e instanceof Error)}function O(e){return"function"==typeof e}function j(e){return Object.prototype.toString.call(e)}function T(e){return e<10?"0"+e.toString(10):e.toString(10)}t.debuglog=function(n){if(v(i)&&(i=e.env.NODE_DEBUG||""),n=n.toUpperCase(),!u[n])if(new RegExp("\\b"+n+"\\b","i").test(i)){var r=e.pid;u[n]=function(){var e=t.format.apply(t,arguments);console.error("%s %d: %s",n,r,e)}}else u[n]=function(){};return u[n]},t.inspect=c,c.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},c.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},t.isArray=d,t.isBoolean=h,t.isNull=m,t.isNullOrUndefined=function(e){return null==e},t.isNumber=g,t.isString=y,t.isSymbol=function(e){return"symbol"==typeof e},t.isUndefined=v,t.isRegExp=b,t.isObject=w,t.isDate=S,t.isError=x,t.isFunction=O,t.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},t.isBuffer=n(24);var $=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function E(){var e=new Date,t=[T(e.getHours()),T(e.getMinutes()),T(e.getSeconds())].join(":");return[e.getDate(),$[e.getMonth()],t].join(" ")}function z(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.log=function(){console.log("%s - %s",E(),t.format.apply(t,arguments))},t.inherits=n(25),t._extend=function(e,t){if(!t||!w(t))return e;for(var n=Object.keys(t),r=n.length;r--;)e[n[r]]=t[n[r]];return e};var N="undefined"!=typeof Symbol?Symbol("util.promisify.custom"):void 0;function C(e,t){if(!e){var n=new Error("Promise was rejected with a falsy value");n.reason=e,e=n}return t(e)}t.promisify=function(e){if("function"!=typeof e)throw new TypeError('The "original" argument must be of type Function');if(N&&e[N]){var t;if("function"!=typeof(t=e[N]))throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(t,N,{value:t,enumerable:!1,writable:!1,configurable:!0}),t}function t(){for(var t,n,r=new Promise((function(e,r){t=e,n=r})),o=[],i=0;i<arguments.length;i++)o.push(arguments[i]);o.push((function(e,r){e?n(e):t(r)}));try{e.apply(this,o)}catch(e){n(e)}return r}return Object.setPrototypeOf(t,Object.getPrototypeOf(e)),N&&Object.defineProperty(t,N,{value:t,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(t,r(e))},t.promisify.custom=N,t.callbackify=function(t){if("function"!=typeof t)throw new TypeError('The "original" argument must be of type Function');function n(){for(var n=[],r=0;r<arguments.length;r++)n.push(arguments[r]);var o=n.pop();if("function"!=typeof o)throw new TypeError("The last argument must be of type Function");var i=this,u=function(){return o.apply(i,arguments)};t.apply(this,n).then((function(t){e.nextTick(u,null,t)}),(function(t){e.nextTick(C,t,u)}))}return Object.setPrototypeOf(n,Object.getPrototypeOf(t)),Object.defineProperties(n,r(t)),n}}).call(this,n(23))},function(e,t,n){var r=n(8),o=n(0);e.exports=function(e,t,n){var i=!0,u=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return o(n)&&(i="leading"in n?!!n.leading:i,u="trailing"in n?!!n.trailing:u),r(e,t,{leading:i,maxWait:t,trailing:u})}},function(e,t,n){var r=new(n(20));function o(e,t){for(var n=null,r=0,o=!1;r<t.length&&!o;)t[r][0].test(e)&&(n=e.replace(t[r][0],t[r][1]),o=!0),r++;return n}function i(e){var t=function(e){return o(e,[[/(ее|ие|ые|ое|ими|ыми|ей|ий|ый|ой|ем|им|ым|ом|его|ого|ему|ому|их|ых|ую|юю|ая|яя|ою|ею)$/g,""]])}(e);if(null!=t){var n=function(e){return o(e,[[/([ая])(ем|нн|вш|ющ|щ)$/g,"$1"],[/(ивш|ывш|ующ)$/g,""]])}(t);t=n||t}return t}function u(e){return o(e,[[/(ост|ость)$/g,""]])}e.exports=r,r.stem=function(e){e=e.toLowerCase().replace(/ё/g,"е");var t=/^(.*?[аеиоюяуыиэ])(.*)$/g,n=t.exec(e);if(!n||n.length<3)return e;var r=n[1];n=n[2],t.lastIndex=0;var c=t.exec(n),s=function(e){return o(e,[[/[ая]в(ши|шись)$/g,""],[/(ив|ивши|ившись|ывши|ывшись|ыв)$/g,""]])}(n);if(null===s){var a=function(e){return o(e,[[/(ся|сь)$/g,""]])}(n)||n;null===(s=i(a))&&null===(s=function(e){return o(e,[[/([ая])(ла|на|ете|йте|ли|й|л|ем|н|ло|но|ет|ют|ны|ть|ешь|нно)$/g,"$1"],[/(ила|ыла|ена|ейте|уйте|ите|или|ыли|ей|уй|ил|ыл|им|ым|ен|ило|ыло|ено|ят|ует|ит|ыт|ены|ить|ыть|ишь|ую|ю)$/g,""]])}(a))&&null===(s=function(e){return o(e,[[/(а|ев|ов|ие|ье|е|иями|ями|ами|еи|ии|и|ией|ей|ой|ий|й|иям|ям|ием|ем|ам|ом|о|у|ах|иях|ях|ы|ь|ию|ью|ю|ия|ья|я)$/g,""]])}(a))&&(s=a)}var l=s=s.replace(/и$/g,"");c&&c[2]&&(l=null!=(l=u(c[2]))?u(s):s);var f=function(e){return o(e,[[/(ейш|ейше)$/g,""]])}(l)||l;return r+(f=(f=f.replace(/(н)н/g,"$1")).replace(/ь$/g,""))}},function(e,t,n){function r(e){return e.replace(/[^aeiouy]+y/g,"CV").replace(/[aeiou]+/g,"V").replace(/[^V]+/g,"C")}function o(e){return e.replace(/[^aeiouy]y/g,"CV").replace(/[aeiou]/g,"V").replace(/[^V]/g,"C")}function i(e){return e?r(e).replace(/^C/,"").replace(/V$/,"").length/2:-1}function u(e,t,n,r){var o=null;return"string"==typeof t&&e.substr(0-t.length)==t?o=e.replace(new RegExp(t+"$"),n):t instanceof RegExp&&e.match(t)&&(o=e.replace(t,n)),o&&r?r(o):o}function c(e,t,n){for(var r=e,o=0;o<t.length;o++)(null==n||i(u(e,t[o][0],t[o][1]))>n)&&(r=u(r,t[o][0],t[o][2])||r);return r}function s(e,t,n){return c(e,t,n)||e}function a(e,t,n,r){var o,u="";return t.test(e)&&(o=t.exec(e),n.forEach((function(e){u+=o[e]}))),i(u)>r?u:null}function l(e){return e.match(/(ss|i)es$/)?e.replace(/(ss|i)es$/,"$1"):"s"==e.substr(-1)&&"s"!=e.substr(-2,1)&&e.length>2?e.replace(/s?$/,""):e}function f(e){if("eed"==e.substr(-3)){if(i(e.substr(0,e.length-3))>0)return e.replace(/eed$/,"ee")}else{var t=u(e,/(ed|ing)$/,"",(function(e){return r(e).indexOf("V")>=0?(t=c(e,[["at","","ate"],["bl","","ble"],["iz","","ize"]]))!=e?t:function(e){return e.match(/([^aeiou])\1$/)}(e)&&e.match(/[^lsz]$/)?e.replace(/([^aeiou])\1$/,"$1"):1==i(e)&&"CVC"==o(e).substr(-3)&&e.match(/[^wxy]$/)?e+"e":e:null}));if(t)return t}return e}function p(e){var t=r(e);return"y"==e.substr(-1)&&t.substr(0,t.length-1).indexOf("V")>-1?e.replace(/y$/,"i"):e}function d(e){return e=s(e,[["ational","","ate"],["tional","","tion"],["enci","","ence"],["anci","","ance"],["izer","","ize"],["abli","","able"],["bli","","ble"],["alli","","al"],["entli","","ent"],["eli","","e"],["ousli","","ous"],["ization","","ize"],["ation","","ate"],["ator","","ate"],["alism","","al"],["iveness","","ive"],["fulness","","ful"],["ousness","","ous"],["aliti","","al"],["iviti","","ive"],["biliti","","ble"],["logi","","log"]],0)}function h(e){return s(e,[["icate","","ic"],["ative","",""],["alize","","al"],["iciti","","ic"],["ical","","ic"],["ful","",""],["ness","",""]],0)}function m(e){return a(e,/^(.+?)(al|ance|ence|er|ic|able|ible|ant|ement|ment|ent|ou|ism|ate|iti|ous|ive|ize)$/,[1],1)||a(e,/^(.+?)(s|t)(ion)$/,[1,2],1)||e}function g(e){var t=i(e.replace(/e$/,""));return(t>1||1==t&&("CVC"!=o(e).substr(-4,3)||!e.match(/[^wxy].$/)))&&(e=e.replace(/e$/,"")),e}function y(e){return i(e)>1?e.replace(/ll$/,"l"):e}var v=new(n(26));e.exports=v,v.stem=function(e){return e.length<3?e.toString():y(g(m(h(d(p(f(l(e.toLowerCase())))))))).toString()},v.categorizeGroups=r,v.measure=i,v.step1a=l,v.step1b=f,v.step1c=p,v.step2=d,v.step3=h,v.step4=m,v.step5a=g,v.step5b=y},function(e,t,n){var r=n(0),o=n(9),i=n(12),u=Math.max,c=Math.min;e.exports=function(e,t,n){var s,a,l,f,p,d,h=0,m=!1,g=!1,y=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function v(t){var n=s,r=a;return s=a=void 0,h=t,f=e.apply(r,n)}function b(e){return h=e,p=setTimeout(S,t),m?v(e):f}function w(e){var n=e-d;return void 0===d||n>=t||n<0||g&&e-h>=l}function S(){var e=o();if(w(e))return x(e);p=setTimeout(S,function(e){var n=t-(e-d);return g?c(n,l-(e-h)):n}(e))}function x(e){return p=void 0,y&&s?v(e):(s=a=void 0,f)}function O(){var e=o(),n=w(e);if(s=arguments,a=this,d=e,n){if(void 0===p)return b(d);if(g)return clearTimeout(p),p=setTimeout(S,t),v(d)}return void 0===p&&(p=setTimeout(S,t)),f}return t=i(t)||0,r(n)&&(m=!!n.leading,l=(g="maxWait"in n)?u(i(n.maxWait)||0,t):l,y="trailing"in n?!!n.trailing:y),O.cancel=function(){void 0!==p&&clearTimeout(p),h=0,s=d=a=p=void 0},O.flush=function(){return void 0===p?f:x(o())},O}},function(e,t,n){var r=n(1);e.exports=function(){return r.Date.now()}},function(e,t,n){(function(t){var n="object"==typeof t&&t&&t.Object===Object&&t;e.exports=n}).call(this,n(11))},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){var r=n(13),o=n(0),i=n(15),u=/^[-+]0x[0-9a-f]+$/i,c=/^0b[01]+$/i,s=/^0o[0-7]+$/i,a=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(i(e))return NaN;if(o(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=o(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=r(e);var n=c.test(e);return n||s.test(e)?a(e.slice(2),n?2:8):u.test(e)?NaN:+e}},function(e,t,n){var r=n(14),o=/^\s+/;e.exports=function(e){return e?e.slice(0,r(e)+1).replace(o,""):e}},function(e,t){var n=/\s/;e.exports=function(e){for(var t=e.length;t--&&n.test(e.charAt(t)););return t}},function(e,t,n){var r=n(16),o=n(19);e.exports=function(e){return"symbol"==typeof e||o(e)&&"[object Symbol]"==r(e)}},function(e,t,n){var r=n(2),o=n(17),i=n(18),u=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":u&&u in Object(e)?o(e):i(e)}},function(e,t,n){var r=n(2),o=Object.prototype,i=o.hasOwnProperty,u=o.toString,c=r?r.toStringTag:void 0;e.exports=function(e){var t=i.call(e,c),n=e[c];try{e[c]=void 0;var r=!0}catch(e){}var o=u.call(e);return r&&(t?e[c]=n:delete e[c]),o}},function(e,t){var n=Object.prototype.toString;e.exports=function(e){return n.call(e)}},function(e,t){e.exports=function(e){return null!=e&&"object"==typeof e}},function(e,t,n){var r=n(21),o=n(22);e.exports=function(){var e=this;e.stem=function(e){return e},e.tokenizeAndStem=function(t,n){var i=[];return(new o).tokenize(t).forEach((function(t){if(n||-1==r.words.indexOf(t)){var o=t.toLowerCase();o.match(new RegExp("[а-яё0-9]+","gi"))&&(o=e.stem(o)),i.push(o)}})),i},e.attach=function(){String.prototype.stem=function(){return e.stem(this)},String.prototype.tokenizeAndStem=function(t){return e.tokenizeAndStem(this,t)}}}},function(e,t){t.words=["о","после","все","также","и","другие","все","как","во","быть","потому","был","до","являюсь","между","все","но","от","иди","могу","подойди","мог","делал","делаю","каждый","для","откуда","иметь","имел","он","имеет","её","здесь","его","как","если","в","оно","за","делать","много","я","может быть","более","самый","должен","мой","никогда","сейчас","из","на","только","или","другой","другая","другое","наше","вне","конец","сказал","сказала","также","видел","c","немного","все еще","так","затем","тот","их","там","этот","они","те","через","тоже","под","над","очень","был","путь","мы","хорошо","что","где","который","пока","кто","с кем","хотел бы","ты","твои","а","б","в","г","д","е","ё","ж","з","и","й","к","л","м","н","o","п","р","с","т","у","ф","х","ц","ч","ш","щ","ъ","ы","ь","э","ю","я","$","1","2","3","4","5","6","7","8","9","0","_"]},function(e,t,n){var r=n(3),o=function(){r.call(this)};n(4).inherits(o,r),e.exports=o,o.prototype.withoutEmpty=function(e){return e.filter((function(e){return e}))},o.prototype.clearText=function(e){return e.replace(/[^a-zа-яё0-9]/gi," ").replace(/[\s\n]+/g," ").trim()},o.prototype.tokenize=function(e){return this.withoutEmpty(this.clearText(e).split(" "))}},function(e,t){var n,r,o=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function u(){throw new Error("clearTimeout has not been defined")}function c(e){if(n===setTimeout)return setTimeout(e,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:i}catch(e){n=i}try{r="function"==typeof clearTimeout?clearTimeout:u}catch(e){r=u}}();var s,a=[],l=!1,f=-1;function p(){l&&s&&(l=!1,s.length?a=s.concat(a):f=-1,a.length&&d())}function d(){if(!l){var e=c(p);l=!0;for(var t=a.length;t;){for(s=a,a=[];++f<t;)s&&s[f].run();f=-1,t=a.length}s=null,l=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===u||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function h(e,t){this.fun=e,this.array=t}function m(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];a.push(new h(e,t)),1!==a.length||l||c(d)},h.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=m,o.addListener=m,o.once=m,o.off=m,o.removeListener=m,o.removeAllListeners=m,o.emit=m,o.prependListener=m,o.prependOnceListener=m,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(e,t){e.exports=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},function(e,t){"function"==typeof Object.create?e.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},function(e,t,n){var r=n(27),o=n(28);e.exports=function(){var e=this;e.stem=function(e){return e},e.addStopWord=function(e){r.words.push(e)},e.addStopWords=function(e){r.words=r.words.concat(e)},e.removeStopWord=function(e){this.removeStopWords([e])},e.removeStopWords=function(e){e.forEach((function(e){var t=r.words.indexOf(e);t>=0&&r.words.splice(t,1)}))},e.tokenizeAndStem=function(t,n){var i=[],u=t.toLowerCase(),c=(new o).tokenize(u);return n?c.forEach((function(t){i.push(e.stem(t))})):c.forEach((function(t){-1==r.words.indexOf(t)&&i.push(e.stem(t))})),i},e.attach=function(){String.prototype.stem=function(){return e.stem(this)},String.prototype.tokenizeAndStem=function(t){return e.tokenizeAndStem(this,t)}}}},function(e,t){t.words=["about","above","after","again","all","also","am","an","and","another","any","are","as","at","be","because","been","before","being","below","between","both","but","by","came","can","cannot","come","could","did","do","does","doing","during","each","few","for","from","further","get","got","has","had","he","have","her","here","him","himself","his","how","if","in","into","is","it","its","itself","like","make","many","me","might","more","most","much","must","my","myself","never","now","of","on","only","or","other","our","ours","ourselves","out","over","own","said","same","see","should","since","so","some","still","such","take","than","that","the","their","theirs","them","themselves","then","there","these","they","this","those","through","to","too","under","until","up","very","was","way","we","well","were","what","where","when","which","while","who","whom","with","would","why","you","your","yours","yourself","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","$","1","2","3","4","5","6","7","8","9","0","_"]},function(e,t,n){var r=n(3),o=function(){r.call(this)};n(4).inherits(o,r),e.exports=o,o.prototype.tokenize=function(e){return this.trim(e.split(/[\W|_]+/))}},function(e,t,n){"use strict";n.r(t);var r=class{constructor(){this.prefix="[youtube-stay-focused]: "}log(...e){}error(...e){console.log(this.prefix,"error"),console.error(...e)}};const o="youtube-stay-focused__blur",i="youtube-stay-focused__similar-words",u={source:{title:"ytd-watch-metadata h1",description:"ytd-watch-metadata #snippet-text",channelName:"ytd-watch-metadata #channel-name"},recommendations:{container:"ytd-rich-item-renderer #content",node:{title:"#video-title",channelName:"#channel-name yt-formatted-string"}},trends:"ytd-video-renderer #content",mainRecommends:"ytd-rich-item-renderer #content",similarWords:"."+i},c=e=>!!e;var s=class{getSourceNodes(){return[document.querySelector(u.source.title),document.querySelector(u.source.description),document.querySelector(u.source.channelName)].filter(c)}getNodes(e){const t=document.querySelectorAll(e);return Array.prototype.slice.call(t).filter(c)}getTrendsNodes(){return this.getNodes(u.trends)}hasTrends(){return!!this.getTrendsNodes().length}blurTrends(){this.getTrendsNodes().forEach(e=>{this.addBlur(e)})}removeTrendsBlur(){this.getTrendsNodes().forEach(e=>{e.classList.remove(o)})}getMainRecommendsNodes(){return this.getNodes(u.mainRecommends)}hasMainRecommends(){return!!this.getMainRecommendsNodes().length}blurMainRecommends(){this.getMainRecommendsNodes().forEach(e=>{this.addBlur(e)})}removeMainRecommendsBlur(){this.getMainRecommendsNodes().forEach(e=>{e.classList.remove(o)})}getRecomendsNodes(){return this.getNodes(u.recommendations.container)}getRecomendSentence(e){const t=e.querySelector(u.recommendations.node.title),n=e.querySelector(u.recommendations.node.channelName);return[t?t.textContent:"",n?n.textContent:""].join(" ")}addBlur(e){const{classList:t}=e;t.contains(o)||t.add(o)}showSimilarWords(e,t){const n=document.createElement("div");n.classList.add(i),n.textContent=t.join(", "),e.appendChild(n)}removeAllBlur(){this.getRecomendsNodes().forEach(e=>{e.classList.remove(o)})}removeAllSimilarWords(){document.querySelectorAll(u.similarWords).forEach(e=>{const{parentNode:t}=e;t&&t.removeChild(e)})}getSentence(e){return e.textContent}},a=n(5),l=n.n(a),f=n(6),p=n.n(f),d=n(7),h=n.n(d),m={"себ":!0,"наш":!0,"тво":!0,"ваш":!0,"кто":!0,"что":!0,"как":!0,"котор":!0,"скольк":!0,"где":!0,"когд":!0,"куд":!0,"откуд":!0,"зач":!0,"этот":!0,"тот":!0,"так":!0,"тут":!0,"здес":!0,"сюд":!0,"туд":!0,"оттуд":!0,"отсюд":!0,"тогд":!0,"поэт":!0,"зат":!0,"вес":!0,"всяк":!0,"все":!0,"сам":!0,"кажд":!0,"люб":!0,"всяческ":!0,"всюд":!0,"везд":!0,"всегд":!0,"никт":!0,"ничт":!0,"нек":!0,"неч":!0,"никак":!0,"нич":!0,"нект":!0,"нечт":!0,"некотор":!0,"нескольк":!0,"коект":!0,"коегд":!0,"коечт":!0,"коекуд":!0,"какойлиб":!0,"скольконибуд":!0,"куданибуд":!0,"зачемнибуд":!0,"чейлиб":!0,"нов":!0,"выпуск":!0,the:!0,top:!0,and:!0,recommend:!0,for:!0,you:!0,topic:!0,youtub:!0,trailer:!0,offici:!0,music:!0,video:!0,audio:!0,prod:!0,feat:!0,dir:!0,lil:!0,with:!0};const g=/(https?|chrome):\/\/[^\s$.?#].[^\s]*/gm,y=/\s+/g,v=e=>e.replace(y," ").replace(g,"").toLowerCase(),b=/[^A-Za-zА-Яа-я0-9_]+/gim,w=e=>e.split(" ").map(e=>e.replace(b,"")),S=e=>e.map(e=>p.a.stem(e)).map(e=>h.a.stem(e)),x=/^\d+$/,O=e=>e.filter(e=>!x.test(e)).filter(e=>e.length>=3).filter(e=>!m[e]);var j=e=>e.map(v).map(w).map(S).map(O);const T={"params:isActive":!0,"options:main":!1,"options:trends":!1,"options:debug":!1,"options:coldTime":600,"options:fitstCheckInterval":1e3,"options:secondCheckInterval":2e3,"options:checkInterval":5e3};var $=class{constructor(e,t,n){this.domManipulator=e,this.classifier=t,this.logger=n,this.updateConfig=this.updateConfig.bind(this),this.init=this.init.bind(this),this.loop=this.loop.bind(this),this.prevSourceSentences=[],this.prevRecommendsSentences=[],this.prevConfig={}}updateConfig(e){try{chrome.storage.local.get(["config/1.0"]).then(t=>{e({...T,...t["config/1.0"]||{}})})}catch(e){this.logger.error(e)}}loop(){this.logger.log("loop"),this.updateConfig(e=>{const{logger:t,domManipulator:n,classifier:r}=this;if(!e["params:isActive"])return n.removeAllBlur(),n.removeAllSimilarWords(),n.removeTrendsBlur(),n.removeMainRecommendsBlur(),this.prevConfig=e,void t.log("not active!");const o="/feed/trending"===document.location.pathname;e["options:trends"]&&o&&n.hasTrends()?n.blurTrends():n.removeTrendsBlur();const i="/"===document.location.pathname;e["options:main"]&&i&&n.hasMainRecommends()?n.blurMainRecommends():n.removeMainRecommendsBlur();if(!("/watch"===document.location.pathname))return this.prevConfig=e,void t.log("is not watching video page");const u=n.getSourceNodes().map(n.getSentence),c=(JSON.stringify(u),JSON.stringify(this.prevSourceSentences),n.getRecomendsNodes()),s=c.map(n.getRecomendSentence);JSON.stringify(s),JSON.stringify(this.prevRecommendsSentences),JSON.stringify(e),JSON.stringify(this.prevConfig);t.log("has new sourceSentences or recommendsSentences"),this.prevSourceSentences=u,this.prevRecommendsSentences=s,this.prevConfig=e;const a=j(u),l=j(s);r.reset(),a.forEach(e=>{r.addWords(e)});const f=l.map((e,t)=>r.getSimilarWords(e));n.removeAllBlur(),n.removeAllSimilarWords(),f.forEach((t,r)=>{t.length||n.addBlur(c[r]),e["options:debug"]&&t.length&&n.showSimilarWords(c[r],t)})})}init(e){this.updateConfig(e=>{const t=l()(this.loop,e["options:coldTime"]);setTimeout(t,e["options:fitstCheckInterval"]),setTimeout(t,e["options:secondCheckInterval"]),setInterval(t,e["options:checkInterval"]),window.addEventListener("scroll",t)})}};var E=class{constructor(){this.wordsMap={}}addWords(e){const t=e.reduce((e,t)=>({...e,[t]:!0}),{});this.wordsMap={...this.wordsMap,...t}}classify(e){return e.some(e=>this.wordsMap[e])}reset(){this.wordsMap={}}getSimilarWords(e){return e.filter(e=>this.wordsMap[e])}};const z=new r;new $(new s,new E,z).init()}]);